## ğŸ“’ 3ì£¼ì°¨ ê³¼ì œ

1. [Cloud ê³¼ì œ](#cloud-ê³¼ì œ)

2. [Spring ê³¼ì œ](#spring-ê³¼ì œ)

---
## Cloud ê³¼ì œ
> 1. Web EC2 2ê°œì— `nginx1`ë¥¼ ì„¤ì¹˜í•˜ê³ , ë¡œë“œ ë°¸ëŸ°ì„œì˜ DNSë¥¼ í†µí•´ì„œ ì›¹ ì„œë²„ì— ì ‘ê·¼
> 2. ìƒˆë¡œê³ ì¹¨ì„ í•  ë•Œë§ˆë‹¤ í˜ì´ì§€ê°€ ë‹¬ë¼ì§€ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸°

### ê³¼ì œ ì¸ì¦
1. `Bastion`ì„ í†µí•´ì„œ Private IPë¥¼ ê°€ì§„ `EC2`ì— SSH ì—°ê²°
<p align="center">
<img src="https://github.com/GDSC-Ewha-5th/GDSC-Server-5th/assets/94354545/af767b08-72c9-438a-b1be-a665a1fd6f64" width="650"/>
</p>

2. 1ì—ì„œ ì ‘ì†í•œ Web EC2ì—ì„œ `nginx`ë¥¼ ì„¤ì¹˜
<p align="center">
<img src="https://github.com/GDSC-Ewha-5th/GDSC-Server-5th/assets/94354545/1203af37-3491-4bf9-8e9e-ae905c218746" width="650"/>
</p>

3. [ì˜ìƒ ì¸ì¦](https://drive.google.com/file/d/1722uMrXEpy8Oira_eiIBXLjRk4TJNUqR/view?usp=sharing)


### ê³¼ì œë¥¼ í•´ê²°í•œ ë°©ë²•
1. ì„œë¡œ ë‹¤ë¥¸ AZ 2ê°œì— `public subnet`, `private subnet`ì„ ê°ê° í•˜ë‚˜ì”© ìƒì„±í•œë‹¤. <br>
   (ğŸ’¡ public subnetì€ **IGWê°€ ì—°ê²°**ëœ ì„œë¸Œë„·, private subnetì€ **IGWê°€ ì—°ê²°ë˜ì§€ ì•Šì€** ì„œë¸Œë„·)
2. 1ì—ì„œ ìƒì„±í•œ public subnet 2ê°œëŠ” `Public RT` ë¼ìš°íŒ… í…Œì´ë¸”ì— ì—°ê²°í•˜ê³ , private subnet 2ê°œëŠ” `Private RT` ë¼ìš°íŒ… í…Œì´ë¸”ì— ì—°ê²°í•œë‹¤.
3. ê° private subnetì— (ì„œë¡œ ë‹¤ë¥¸ AZ) `t2.micro spot` íƒ€ì… `EC2`ë¥¼ ìƒì„±í•œë‹¤. (ì´ 2ê°œ) <br>
 â†’ `t2.micro` íƒ€ì…ì´ ì§€ì›ë˜ëŠ” ê°€ìš© ì˜ì—­ì€ ë‹¤ìŒ ì½”ë“œë¥¼ AWS EC2 ì½˜ì†”ì— ì…ë ¥í•˜ë©´ ì•Œ ìˆ˜ ìˆë‹¤.
    ```bash
    aws ec2 describe-instance-type-offerings --location-type availability-zone --filters Name=instance-type,Values=t2.micro --region ap-northeast-2 --output table
    ```
4. ë³´ì•ˆê·¸ë£¹ ê·œì¹™ì—ì„œ **HTTP í”„ë¡œí† ì½œì„ í—ˆìš©**í•œë‹¤.
5. `Load Balancer`ë¥¼ public subnetì— ìƒì„±í•œë‹¤.
6. `NAT gateway`ë¥¼ public subnetì— ìƒì„± í›„, `Private RT`ì—ì„œ `0.0.0.0/0` íŠ¸ë˜í”½ì´ `nat`ë¡œ í–¥í•˜ë„ë¡ ì„¤ì •í•œë‹¤.
7. `Bastion`ì„ í†µí•´ì„œ `web1`ê³¼ `web2` EC2ì— Private IPë¡œ SSH ì—°ê²°í•œ í›„, `nginx`ë¥¼ ì„¤ì¹˜í•œë‹¤.
    ```bash
    sudo yum install nginx 
    sudo systemctl start nginx 
    sudo systemctl enable nginx 
    sudo systemctl status nginx 
    ```
8. `web1`ê³¼ `web2`ì˜  `/usr/share/nginx/html/` ê²½ë¡œì— ìˆëŠ” `index.html` íŒŒì¼ì„ ìˆ˜ì •í•œë‹¤.
9. `Load Balancer`ì˜ DNSë¥¼ í†µí•´ `Web EC2`ì— ì ‘ê·¼í•œë‹¤. 
10. NAT gateway ì‚­ì œ í›„ì—ëŠ” ê¼­! **Elastic IPsë¥¼ ë¦´ë¦¬ìŠ¤**í•´ì•¼ í•œë‹¤ â€¼ï¸
---
## Spring ê³¼ì œ
>  1. ì‚¬ìš©ìëŠ” `/(ë£¨íŠ¸)` ê²½ë¡œ, `/members` ê²½ë¡œ, `/members/new` ê²½ë¡œë¡œ ì ‘ê·¼ ê°€ëŠ¥
> 2. ê° ê²½ë¡œë¡œ ì ‘ê·¼í–ˆì„ ë•Œ viewì— ê°ê° ë°ì´í„°ê°€ ì „ë‹¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸°

### ê³¼ì œ ì¸ì¦
```java
/* ì˜ìƒ ì¸ì¦ : https://drive.google.com/file/d/1FsOlrfv4vV6PJr_hAyv43tuQ2Zbzpc6j/view?usp=sharing */
package GDSCsever.springstudy.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;

@Controller
public class SampleController {
    @GetMapping("/")
    public String sample(Model model) {
        model.addAttribute("description", "ë©”ì¸ í˜ì´ì§€ ì…ë‹ˆë‹¤."); // key:value êµ¬ì¡°
        return "index"; // resources:templates/ + {viewname} + .html ì‹¤í–‰
    }

    @GetMapping("/members")
    public String members(Model model) {
        model.addAttribute("member1", "Haewon Lee"); // key:value êµ¬ì¡°
        model.addAttribute("member2", "GDSC");
        model.addAttribute("member3", "EWHA");
        return "members"; // resources:templates/ + {viewname} + .html ì‹¤í–‰
    }

    @GetMapping("/members/new")
    public String showNewMember(@RequestParam(name="name", defaultValue="Guest") String name, @RequestParam("email") String email,Model model) {
        model.addAttribute("name", name); // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ name ì…ë ¥
        model.addAttribute("email", email); // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ email ì…ë ¥
        return "newMember"; // resources:templates/ + {viewname} + .html ì‹¤í–‰
    }

}
```